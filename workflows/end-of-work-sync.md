# 작업 종료 동기화 워크플로우

이 문서는 하루 작업을 마무리할 때 수행해야 할 동기화 작업들을 체계적으로 정리한 가이드입니다.

## 🎯 목표
- 로컬, GitHub, 서버 간 모든 변경사항 동기화
- 작업 내용 문서화 및 다음 작업 준비
- 데이터 손실 방지 및 작업 연속성 보장

---

## 📋 상세 체크리스트

### 1. 작업 내용 정리 (5분)
- [ ] **오늘 완성한 기능/수정사항 목록 작성**
- [ ] **진행 중인 작업의 현재 상태 기록**
- [ ] **발견한 문제점이나 개선사항 메모**
- [ ] **내일 우선적으로 할 작업 계획**

### 2. 로컬 변경사항 커밋 (10분)
- [ ] **각 저장소별 변경사항 확인**
  ```bash
  git status
  git diff
  ```
- [ ] **변경된 파일들 스테이징**
  ```bash
  git add .
  # 또는 선택적으로: git add [파일명]
  ```
- [ ] **명확한 커밋 메시지 작성**
  ```bash
  git commit -m "feat: 새로운 기능 추가"
  git commit -m "fix: 버그 수정"
  git commit -m "docs: 문서 업데이트"
  ```

### 3. 문서 업데이트 (10분)
- [ ] **프로젝트별 README 업데이트 (필요시)**
- [ ] **API 문서 업데이트 (변경사항 있을 시)**
- [ ] **작업 진행 상황 문서 업데이트**
  - `docs-hub/development/01-cicd-implementation-status.md`
  - 각 프로젝트의 `docs/` 폴더 내 관련 문서
- [ ] **새로운 문제나 해결책 문서화**

### 4. GitHub 저장소 푸시 (5분)
- [ ] **각 저장소별로 푸시 실행**
  ```bash
  git push origin main
  # 또는 현재 브랜치: git push
  ```
- [ ] **푸시 성공 확인**
- [ ] **GitHub Actions 실행 상태 확인 (CI/CD가 설정된 경우)**

### 5. 서버 동기화 (선택적, 10분)
- [ ] **배포가 필요한 변경사항이 있는지 확인**
- [ ] **서버 상태 확인**
  ```bash
  ping your-server-ip
  ssh user@your-server
  ```
- [ ] **필요시 서버에 최신 코드 배포**
  ```bash
  git pull origin main
  npm install (의존성 변경 시)
  npm run build (빌드 필요 시)
  pm2 restart app (서비스 재시작)
  ```
- [ ] **배포 후 서비스 정상 작동 확인**

### 6. 장기 메모리 업데이트 (5분)
- [ ] **오늘 작업한 주요 내용을 AI 메모리에 저장**
- [ ] **진행 중인 프로젝트 상태 업데이트**
- [ ] **다음 작업 계획 기록**

---

## 🚨 주의사항

### 커밋 메시지 규칙
```
feat: 새로운 기능 추가
fix: 버그 수정
docs: 문서 수정
style: 코드 스타일 변경 (기능 변경 없음)
refactor: 코드 리팩토링
test: 테스트 코드 추가/수정
chore: 빌드 프로세스 또는 보조 도구 변경
```

### 백업 체크포인트
- 중요한 변경사항은 반드시 커밋 후 푸시
- 서버 배포 전 데이터베이스 백업 확인
- 설정 파일 변경 시 백업 사본 보관

### 문제 발생 시 대응
- 푸시 실패: 충돌 해결 후 재시도
- 서버 접속 불가: 네트워크 상태 확인
- 배포 실패: 로그 확인 후 롤백 고려

---

## 🔄 자동화 스크립트 (참고)

### 빠른 동기화 스크립트
```bash
#!/bin/bash
# sync-all.sh

echo "=== 작업 종료 동기화 시작 ==="

# 1. Git 상태 확인
echo "📊 Git 상태 확인..."
git status

# 2. 모든 변경사항 커밋
echo "💾 변경사항 커밋..."
git add .
read -p "커밋 메시지를 입력하세요: " commit_msg
git commit -m "$commit_msg"

# 3. 푸시
echo "🚀 GitHub에 푸시..."
git push

# 4. 완료 메시지
echo "✅ 동기화 완료!"
```

---

## 📊 체크리스트 완료 확인

모든 항목을 완료한 후:
- [ ] **로컬 작업 디렉토리가 깨끗한 상태인가?** (`git status` 확인)
- [ ] **모든 중요한 변경사항이 GitHub에 푸시되었는가?**
- [ ] **문서가 최신 상태로 업데이트되었는가?**
- [ ] **다음 작업 계획이 명확히 기록되었는가?**
- [ ] **서버 상태가 정상인가? (배포한 경우)**

---

## 💡 팁

1. **규칙적인 습관**: 매일 같은 시간에 실행하여 습관화
2. **점진적 개선**: 시간이 오래 걸리는 부분은 스크립트로 자동화
3. **상황별 조정**: 긴급한 수정사항은 즉시 동기화, 일반 작업은 하루 종료 시
4. **백업 의식**: 항상 "내일 컴퓨터가 고장 나도 괜찮을까?" 생각하며 진행

---

## 🆘 문제 해결

### 자주 발생하는 문제들
1. **Git 충돌**: `git pull` 후 충돌 해결, 다시 커밋
2. **푸시 실패**: 원격 저장소 변경사항 먼저 pull
3. **서버 연결 실패**: VPN 연결 상태 또는 서버 상태 확인
4. **빌드 실패**: 의존성 설치 상태 및 환경 변수 확인

### 도움 요청 방법
문제가 발생하면 다음과 같이 요청하세요:
- `"작업 종료 동기화 중에 Git 충돌이 발생했어"`
- `"서버 배포가 실패했는데 도움이 필요해"`
- `"오늘 작업 내용을 정리해서 문서에 업데이트해줘"`